<!DOCTYPE html>
<html>
  <head>
    <title>A Trivial Example</title>
    <script type="text/javascript" src="../src/ftv.js"></script>
    <script type="text/javascript" src="../src/timeseries.js"></script>
  </head>
  <body>
    <canvas id="host_canvas" width="800" height="400"></canvas>
    <script type="text/javascript">
      var now = (new Date()).getTime();
      var K = 100;
      var N = 1000;
      var ts_array = [];
      for (var t = 0; t < K; ++t) {
        var timestamps = [];
        var values = [];
        var gappiness = 100 * Math.random();
        var phase = 200 * Math.random();
        for (var i = 0; i <= N; i += 1) {
          timestamps[i] = now + (i * 1000);
          if ((i + phase) % 100 < gappiness) {
            values[i] = null;
          } else {
            values[i] = Math.sin(Math.PI * 2 * (t * 5 + i) / N);
          }
        }
        ts = new Timeseries("my series", timestamps, values);
        ts.setColor("rgb(" +
                    Math.floor(Math.random() * 192 + 64) + ", " +
                    Math.floor(Math.random() * 192 + 64) + ", " +
                    Math.floor(Math.random() * 192 + 64) + ")");
        ts_array[ts_array.length] = ts;
      }
      ftv = new FTV("host_canvas");
      ftv.addTimeseriesSet(new TimeseriesSet(ts_array, "unitless"));
      ftv.start();
    </script>
  </body>
</html>
